<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles/style0.css" />
    <title id="page-title">home</title>
  </head>
  <body>
    <div class="layout0">
      <div id="navBar">
        <div id="slider-container">
          <input class="slider" type="range" orient="vertical" />
        </div>
        <div id="social-container">
          <div class="socialIcon" target="_blank">f</div>
          <div class="socialIcon" target="_blank">i</div>
          <div class="socialIcon" target="_blank">t</div>
        </div>
      </div>
      <div id="projectContent">
        <div id="projectBackC">
          <p>826 super real store</p>
          <img src="/assets/diaImg.png" alt="diaImg" />
        </div>
        <div id="projectFrontC">
          <div id="thumbnail">
            <img src="/assets/diaImg.png" alt="diaImg" />
          </div>
        </div>
      </div>
      <div id="knobBar">
        <div class="knob"></div>
        <div class="knob"></div>
        <div class="knob"></div>
        <div class="knob"></div>
        <div class="knob"></div>
        <div class="knob"></div>
      </div>
      <div id="logo"><img src="/assets/hellologo.png" alt="hello logo" /></div>
    </div>
  </body>
</html>

<script>
  let projectContent = document.querySelector("#projectContent");

  window.addEventListener("load", () => {
    // projectContent = document.querySelector("#projectContent");
    resizeTextToFit();
  });

  window.addEventListener("click", () => {
    console.log("click");
    resizeClip();
    toggleScrollBehavior(projectContent);
  });
  window.addEventListener("resize", () => {
    resizeTextToFit();
  });
  window.addEventListener("wheel", () => {
    if (projectContent.style.overflowY !== "scroll") {
      console.log("Wheel Scrolling");
    }
  });
</script>

<script>
  function homeProjectToggle() {}

  function toggleScrollBehavior(pc) {
    const projectContentRef = window.getComputedStyle(pc);
    projectContent.style.overflowY =
      projectContent.style.overflowY === "scroll" ? "hidden" : "scroll";
  }

  function resizeTextToFit() {
    const paragraphs = document.querySelectorAll("#projectBackC p");
    const p = paragraphs[0];
    let fontSize = 200;
    p.style.fontSize = fontSize + "px";
    while (p.scrollWidth > p.clientWidth) {
      fontSize--;
      p.style.fontSize = fontSize + "px";
    }
  }

  function resizeClip() {
    const paragraphs = document.querySelectorAll("#projectBackC p");
    const p = paragraphs[0];
    const fontSizeRef = p.style.fontSize;
    const topPaddingRef = window.getComputedStyle(
      document.querySelector("#projectBackC")
    ).paddingTop;
    const clipPathValue = `rect(calc(calc(${fontSizeRef} + ${topPaddingRef}) + 5%) 0 95% 100% round 5vw)`;
    const elementToClip = document.querySelector("#thumbnail img");
    elementToClip.style.clipPath = clipPathValue;
  }

  function shrinkKnobBar() {}
</script>

<!-- 
next thing to do should be to write out the possible states in figma,
how to organize the functions to best support them.
-->
